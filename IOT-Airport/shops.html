<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8"></meta>
    <script src = "libraries/p5.js" type = "text/javascript"></script>
    <script src = "libraries/p5.dom.js" type = "text/javascript"></script>
    <script src = "libraries/p5.sound.js" type = "text/javascript"></script>
    <link rel = "stylesheet" title = "style" type = "text/css" href ="css/style.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  </head>
  <body>
    <div id="modal" class="modal">
      <div class="modal-content">
        <div id="canvas" class="modal-body">
        </div>
      </div>
    </div>
  </body>
  <script>
    var btn;
    var tienda;
    var cont = 0;
    var closeI = true;
    var x = 850;
    var y = 190;
    var frame = 3;
    var cont1 = false;
    var cont2 = false;
    var cont3 = false;
    var cont4 = false;
    var cont5 = false;
    var bkgrd;
    var canvas;
    var user2Image;
    var offer1Image;
    var offer2Image;
    var offer3Image;
    var offer4Image;
    var offer5Image;
    var modal = document.getElementById('modal');

    function setup(){
      bkgrd = loadImage("images/zoomShops.png");
      user2Image = loadImage("images/user2.png");
      offer1Image = loadImage("images/offer1.png");
      offer2Image = loadImage("images/offer2.png");
      offer3Image = loadImage("images/offer3.png");
      offer4Image = loadImage("images/offer4.png");
      offer5Image = loadImage("images/offer5.png");
      tienda = loadImage("images/Tienda.jpg");

      canvas = createCanvas(1100,650);
      btn = createButton('Topology');
  	  btn.position(970, 550);
      btn.mousePressed(topology);
  	  btn.parent('canvas');
  	  canvas.parent('canvas');
      modal.style.display = "block";
    }

    function draw(){
        background(bkgrd);
      	image(user2Image, x, y, 90, 160, 272*frame, 0, 272, 494);
        if(frame  === 0)
          frame = 3;
        if(x === 800 || cont1){
          image(offer1Image, 10, 480, 400, 100);
          cont1 = true;
        }
        if(x === 700 || cont2){
          image(offer2Image, 650, 430, 400, 100);
          cont2 = true;
        }
        if(x === 600 || cont3){
          image(offer3Image, 700, 65, 400, 100);
          cont3 = true;
        }
        if(x === 500 || cont4){
          image(offer4Image, 250, 340, 400, 100);
          cont4 = true;
        }
        if(x === 400 || cont5){
          image(offer5Image, 100, 60, 400, 100);
          cont5 = true;
        }
        if(closeI == false)
          image(tienda, 300, 50, 500, 400);
        if(x === 300){
          modal.style.display = "none";
		      window.close();
		     }
    }

    function keyPressed(){
    	if(keyCode === LEFT_ARROW){
	      x -= 50;
    	  frame--;
    	}
    }

    function topology(){
      if(cont == 0){
        closeI = false;
        cont = 1;
        btn.html("Close");
      }
      else{
        closeI = true;
        cont = 0;
        btn.html("Topology");
      }
    }
  </script>
</html>
