<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8"></meta>
    <script src = "libraries/p5.js" type = "text/javascript"></script>
    <script src = "libraries/p5.dom.js" type = "text/javascript"></script>
    <script src = "libraries/p5.sound.js" type = "text/javascript"></script>
    <link rel = "stylesheet" title = "style" type = "text/css" href ="css/style.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  </head>
  <body>
    <div id="modal" class="modal">
      <div class="modal-content">
        <div id="canvas" class="modal-body">
        </div>
      </div>
    </div>
	
  </body>
  <script>
    var x = 20;
    var y = 150;
	var btn = false;
    var frame = 0;
	var search = false;
    var bkgrd;
    var canvas;
    var user2Image;
    var cellphoneImage;
	var baggage2;
    var modal = document.getElementById('modal');

    function setup(){
	  bkgrd = loadImage("images/zoomBaggage.jpg");
      cellphoneImage = loadImage("images/baggageCell.png");
	  baggage2 = loadImage("images/baggage2.png");
	  user3Image = loadImage("images/user3.png");
      var canvas = createCanvas(1100,650);
	  button = createButton('Search baggage');
	  button.position(850, 550);
      button.mousePressed(gps);
	  button.parent('canvas');
	  canvas.parent('canvas');
      modal.style.display = "block";
    }

    function draw(){
        background(bkgrd);
      	image(user3Image, x, y, 265, 495, 265*frame, 0, 265, 494);
		if(search == false)
          image(baggage2, 520, 200, 130, 100);
        if(search == true)
          image(baggage2, x, 420, 130, 100);
		if(btn === true)
		  image(cellphoneImage, 700, 10);
        if(frame  === 3)
          frame = 0;
		if(x == 520){
			search = true;
			btn = false;
		}
        if(x >= 820){
          modal.style.display = "none";
          window.close();
        }
    }

    function keyPressed(){
    	if(keyCode === RIGHT_ARROW){
          x += 50;
      	  frame++;
    	}
    }
	
	function gps(){
		btn = true;	
	}
	
  </script>
</html>
